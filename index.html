<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apex Gambit Tool</title>
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    <meta name="theme-color" content="#0f172a">
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-color: #f1f5f9;
            --accent-color: #38bdf8;
            --success-color: #22c55e;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .card {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        h1, h2, h3 { color: var(--accent-color); margin-top: 0; }
        
/* Updated Calculator Styles */
.calc-grid {
    display: flex;       /* Changed from grid to flex for better control */
    gap: 20px;
    margin-bottom: 20px;
    justify-content: flex-start; /* Keeps boxes to the left */
}

.calc-item {
    flex: 0 1 150px;    /* This prevents the boxes from growing too wide */
}

label { 
    display: block; 
    margin-bottom: 5px; 
    font-weight: bold; 
    font-size: 0.9rem;
}

input {
    width: 100%;        /* Fills the 150px container */
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #475569;
    background: #0f172a;
    color: white;
    font-size: 1.1rem;
    box-sizing: border-box; /* Ensures padding doesn't add to width */
}
        }
        .result-box {
            background: #334155;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid var(--accent-color);
        }
        .result-val {
            font-size: 2rem;
            font-weight: bold;
            color: var(--success-color);
        }

        /* Checklist Styles */
        .checklist-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
            cursor: pointer;
        }
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            margin-top: 4px;
            cursor: pointer;
        }
        .checked-text {
            text-decoration: line-through;
            opacity: 0.6;
        }
        section { margin-bottom: 25px; border-bottom: 1px solid #334155; padding-bottom: 15px; }
    </style>
</head>
<body>

<div class="container">
    <h1>Pre-Gambit Setup Tool</h1>

    <div class="card">
        <h2>Tradovate Group Calculator</h2>
        <div class="calc-grid">
            <div>
                <label>Contracts per Account</label>
                <input type="number" id="contractsPerAcc" value="10" oninput="calculateTotal()">
            </div>
            <div>
                <label>Accounts in Group</label>
                <input type="number" id="accInGroup" value="10" oninput="calculateTotal()">
            </div>
        </div>
        <div class="result-box">
            <div>TOTAL ORDER SIZE (Set on DOM/Chart)</div>
            <div id="totalResult" class="result-val">100</div>
        </div>
    </div>

    <div class="card">
        <h2>Setup Checklist</h2>
        
        <section>
            <h3>Getting Started</h3>
            <div class="checklist-item"><input type="checkbox" id="step1"><label for="step1">Attended Mentor-led Tradovate Q&A class</label></div>
            <div class="checklist-item"><input type="checkbox" id="step2"><label for="step2">Purchased Tradovate accounts via Apex & have funds set aside for PA fees</label></div>
            <div class="checklist-item"><input type="checkbox" id="step3"><label for="step3">Credentials secured & logged into Tradovate</label></div>
            <div class="checklist-item"><input type="checkbox" id="step4"><label for="step4">Confirmed accounts are active in Accounts Tab</label></div>
        </section>

        <section>
            <h3>Application Settings</h3>
            <div class="checklist-item"><input type="checkbox" id="step5"><label for="step5">Daily Profit Trigger set to $3100 on EACH account</label></div>
            <div class="checklist-item"><input type="checkbox" id="step6"><label for="step6">Preferences: All Confirmations DISABLED</label></div>
        </section>

        <section>
            <h3>Chart Setup</h3>
            <div class="checklist-item"><input type="checkbox" id="step7"><label for="step7">Ticker set to NQ (Current Quarter)</label></div>
            <div class="checklist-item"><input type="checkbox" id="step8"><label for="step8">ATM Turned OFF</label></div>
            <div class="checklist-item"><input type="checkbox" id="step9"><label for="step9">Set correct Total Order Size (Calculated above)</label></div>
        </section>

        <section>
            <h3>Execution Layout</h3>
            <div class="checklist-item"><input type="checkbox" id="step10"><label for="step10">Groups: BUY (Even) and SELL (Odd) created</label></div>
            <div class="checklist-item"><input type="checkbox" id="step11"><label for="step11">Open Tradovate in TWO separate browser tabs</label></div>
            <div class="checklist-item"><input type="checkbox" id="step12"><label for="step12">Tab 1: BUY (Even) group selected with an even account displaying</label></div>
            <div class="checklist-item"><input type="checkbox" id="step13"><label for="step13">Tab 2: SELL (Odd) group selected with an odd account displaying</label></div>
        </section>

        <button onclick="clearAll()" style="background: #ef4444; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">Reset Tool</button>
    </div>
</div>

<script>
    // Calculator Logic
    function calculateTotal() {
        const contracts = document.getElementById('contractsPerAcc').value || 0;
        const accounts = document.getElementById('accInGroup').value || 0;
        const total = contracts * accounts;
        document.getElementById('totalResult').innerText = total;
        saveData();
    }

    // Save/Load Logic
    function saveData() {
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        const checkData = {};
        checkboxes.forEach(cb => checkData[cb.id] = cb.checked);
        
        const data = {
            contracts: document.getElementById('contractsPerAcc').value,
            accounts: document.getElementById('accInGroup').value,
            checks: checkData
        };
        localStorage.setItem('gambitData', JSON.stringify(data));
    }

    function loadData() {
        const saved = localStorage.getItem('gambitData');
        if (!saved) return;
        const data = JSON.parse(saved);
        
        document.getElementById('contractsPerAcc').value = data.contracts;
        document.getElementById('accInGroup').value = data.accounts;
        
        for (const id in data.checks) {
            const el = document.getElementById(id);
            if (el) el.checked = data.checks[id];
        }
        calculateTotal();
    }

    function clearAll() {
        if(confirm("Clear all progress?")) {
            localStorage.clear();
            location.reload();
        }
    }

    // Initialize
    document.querySelectorAll('input').forEach(input => {
        input.addEventListener('change', saveData);
    });
    window.onload = loadData;
</script>

</body>
</html>
